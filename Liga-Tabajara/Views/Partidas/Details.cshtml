@model Partida

@{
    ViewBag.Title = "Detalhes da Partida";
}

<h2 class="mb-4">Detalhes da Partida</h2>

<div class="card mb-4 shadow-sm">
    <div class="card-body text-center">
        <!-- Placar em destaque -->
        <div class="d-flex justify-content-center align-items-center mb-3">
            <h4 class="mb-0 mr-3">@Model.TimeCasa.Nome</h4>
            <h1 class="mb-0 text-primary">@Model.GolsCasa</h1>
            <h2 class="mx-2 mb-0">x</h2>
            <h1 class="mb-0 text-danger">@Model.GolsVisitante</h1>
            <h4 class="mb-0 ml-3">@Model.TimeVisitante.Nome</h4>
        </div>
        <p class="text-muted">@Model.DataHora.ToString("dd/MM/yyyy HH:mm")</p>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h4 class="mb-3">Gols – @Model.TimeCasa.Nome</h4>
        <table class="table table-hover table-sm">
            <thead class="thead-light">
                <tr>
                    <th>Minuto</th>
                    <th>Jogador</th>
                </tr>
            </thead>
            <tbody>
                @{
                    var golsCasa = Model.Gols
                        .Where(g => g.Jogador.TimeId == Model.TimeCasaId)
                        .OrderBy(g => g.Minuto);
                    if (!golsCasa.Any())
                    {
                        <tr><td colspan="2" class="text-center">Nenhum gol registrado</td></tr>
                    }
                    else
                    {
                        foreach (var gol in golsCasa)
                        {
                            <tr>
                                <td>@gol.Minuto&#39; </td>
                                <td>@gol.Jogador.Nome</td>
                            </tr>
                        }
                    }
                }
            </tbody>
        </table>
    </div>
    <div class="col-md-6">
        <h4 class="mb-3">Gols – @Model.TimeVisitante.Nome</h4>
        <table class="table table-hover table-sm">
            <thead class="thead-light">
                <tr>
                    <th>Minuto</th>
                    <th>Jogador</th>
                </tr>
            </thead>
            <tbody>
                @{
                    var golsVisit = Model.Gols
                        .Where(g => g.Jogador.TimeId == Model.TimeVisitanteId)
                        .OrderBy(g => g.Minuto);
                    if (!golsVisit.Any())
                    {
                        <tr><td colspan="2" class="text-center">Nenhum gol registrado</td></tr>
                    }
                    else
                    {
                        foreach (var gol in golsVisit)
                        {
                            <tr>
                                <td>@gol.Minuto&#39; </td>
                                <td>@gol.Jogador.Nome</td>
                            </tr>
                        }
                    }
                }
            </tbody>
        </table>
    </div>
</div>

<div class="mt-4">
    @Html.ActionLink("Voltar", "Index", null, new { @class = "btn btn-secondary" })
    @Html.ActionLink("Editar", "Edit", new { id = Model.Id }, new { @class = "btn btn-primary ml-2" })
</div>
